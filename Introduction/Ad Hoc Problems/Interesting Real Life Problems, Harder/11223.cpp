#include <iostream>
#include <string>
#include <sstream>
#include <map>

using namespace std;

map<string, char> ans = {
	{".-", 'A'},
	{"-...", 'B'},
	{"-.-.", 'C'},
	{"-..", 'D'},
	{".", 'E'},
	{"..-.", 'F'},
	{"--.", 'G'},
	{"....", 'H'},
	{"..", 'I'},
	{".---", 'J'},
	{"-.-", 'K'},
	{".-..", 'L'},
	{"--", 'M'},
	{"-.", 'N'},
	{"---", 'O'},
	{".--.", 'P'},
	{"--.-", 'Q'},
	{".-.", 'R'},
	{"...", 'S'},
	{"-", 'T'},
	{"..-", 'U'},
	{"...-", 'V'},
	{".--", 'W'},
	{"-..-", 'X'},
	{"-.--", 'Y'},
	{"--..", 'Z'},
	{"-----", '0'},
	{".----", '1'},
	{"..---", '2'},
	{"...--", '3'},
	{"....-", '4'},
	{".....", '5'},
	{"-....", '6'},
	{"--...", '7'},
	{"---..", '8'},
	{"----.", '9'},
	{".-.-.-", '.'},
	{"--..--", ','},
	{"..--..", '?'},
	{".----.", '\''},
	{"-.-.--", '!'},
	{"-..-.", '/'},
	{"-.--.", '('},
	{"-.--.-", ')'},
	{".-...", '&'},
	{"---...", ':'},
	{"-.-.-.", ';'},
	{"-...-", '='},
	{".-.-.", '+'},
	{"-....-", '-'},
	{"..--.-", '_'},
	{".-..-.", '"'},
	{".--.-.", '@'},
};

int main(int argc, char const *argv[]) {
	int n;
	cin >> n;
	string s;
	getline(cin, s);
	for (int t = 1; t <= n; t++) {
		if (t != 1) {
			cout << endl;
		}
		getline(cin, s);
		stringstream ss(s);
		string code;
		cout << "Message #" << t << endl;
		int prev = ss.tellg();
		while (ss >> code) {
			// cout << prev + code.size();
			if (prev + code.size() + 2 == ss.tellg()) {
				cout << " ";
			}
			cout << ans[code];
			prev = ss.tellg();
		}
		cout << endl;
	}
	return 0;
}
